# ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯çµ±åˆä»•æ§˜æ›¸ v3

## æ¦‚è¦

RunThroughHoleãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚²ãƒ¼ãƒ åˆ¶å¾¡å‡¦ç†ã®ä¸€éƒ¨ã‚’Minecraftãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã«ç§»è¡Œã—ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã‚’çµ„ã¿åˆã‚ã›ã¦æŸ”è»Ÿãªã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

**å¯¾è±¡Minecraftãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.21.8

**v3ã®å¤‰æ›´ç‚¹**:
- `runhole_message`ã‚’`runhole_core`ã«çµ±åˆï¼ˆi18næ©Ÿèƒ½ã¯lang/ãƒ•ã‚©ãƒ«ãƒ€ã§åˆ†é›¢ï¼‰
- ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯æ•°ã‚’5ã¤ã‹ã‚‰4ã¤ã«å‰Šæ¸›

## è¨­è¨ˆæ–¹é‡

### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã®å½¹å‰²åˆ†æ‹…

| å‡¦ç† | å®Ÿè£…å ´æ‰€ | ç†ç”± |
|------|---------|------|
| **ã‚³ã‚¢ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯** | ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ | - ã‚­ãƒ¥ãƒ¼ãƒ–ç§»å‹•ãƒ»å›è»¢<br>- è¡çªåˆ¤å®š<br>- ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰æ›´æ–°<br>- 3Dã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç®¡ç† |
| **ã‚²ãƒ¼ãƒ åˆ¶å¾¡ãƒ»æ¼”å‡º** | ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ | - ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ<br>- stopGameã‚³ãƒãƒ³ãƒ‰å‘¼ã³å‡ºã—<br>- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º<br>- ã‚¹ã‚³ã‚¢è¨ˆç®—<br>- ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰ |
| **ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰** | ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ | - ã‚¹ã‚³ã‚¢æ›´æ–°<br>- ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã§å‚ç…§å¯èƒ½ |

### é‡è¦ãªè¨­è¨ˆå¤‰æ›´

**ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã®ä»•æ§˜å¤‰æ›´**:
- `gameOver()` ã§ã¯**stopGameã‚’å‘¼ã°ãªã„**
- ã‚¹ãƒšã‚¯ãƒ†ãƒ¼ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã«å¤‰æ›´ã—ã€ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰ã‚’æ›´æ–°ã™ã‚‹ã®ã¿
- ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯å´ãŒ3ç§’å¾Œã« `runhole_stop_request` ã‚¹ã‚³ã‚¢ã‚’1ã«è¨­å®š
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—å†…ã§ã“ã®ã‚¹ã‚³ã‚¢ã‚’ç›£è¦–ã—ã€1ã«ãªã£ãŸã‚‰ `stopGame()` ã‚’å®Ÿè¡Œ
- ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯å´ã§ã‚²ãƒ¼ãƒ çµ‚äº†ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’å®Œå…¨åˆ¶å¾¡å¯èƒ½

---

## ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯æ§‹é€ 

ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã‚’æ©Ÿèƒ½åˆ¥ã«4ã¤ã«åˆ†å‰²ã—ã¾ã™ï¼š

```
datapacks/
â”œâ”€â”€ runhole_core/              # ã‚³ã‚¢æ©Ÿèƒ½ + ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºï¼ˆå¿…é ˆï¼‰
â”‚   â”œâ”€â”€ pack.mcmeta
â”‚   â””â”€â”€ data/runhole_core/
â”‚       â”œâ”€â”€ function/
â”‚       â”‚   â”œâ”€â”€ init.mcfunction
â”‚       â”‚   â”œâ”€â”€ main.mcfunction
â”‚       â”‚   â”œâ”€â”€ config.mcfunction                # è¨€èªè¨­å®š
â”‚       â”‚   â”œâ”€â”€ spectator/
â”‚       â”‚   â”‚   â”œâ”€â”€ timer.mcfunction
â”‚       â”‚   â”‚   â””â”€â”€ call_stop.mcfunction
â”‚       â”‚   â”œâ”€â”€ timer/
â”‚       â”‚   â”‚   â””â”€â”€ tick.mcfunction
â”‚       â”‚   â”œâ”€â”€ goal/
â”‚       â”‚   â”‚   â”œâ”€â”€ check.mcfunction              # ã‚´ãƒ¼ãƒ«åˆ¤å®šï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãƒˆãƒªã‚¬ãƒ¼ï¼‰
â”‚       â”‚   â”‚   â””â”€â”€ reached.mcfunction
â”‚       â”‚   â”œâ”€â”€ message/
â”‚       â”‚   â”‚   â”œâ”€â”€ game_start.mcfunction
â”‚       â”‚   â”‚   â”œâ”€â”€ game_over.mcfunction
â”‚       â”‚   â”‚   â”œâ”€â”€ wall_milestone.mcfunction
â”‚       â”‚   â”‚   â””â”€â”€ perfect_wall.mcfunction
â”‚       â”‚   â””â”€â”€ lang/
â”‚       â”‚       â”œâ”€â”€ ja_jp/
â”‚       â”‚       â”‚   â”œâ”€â”€ game_start.mcfunction
â”‚       â”‚       â”‚   â”œâ”€â”€ game_over.mcfunction
â”‚       â”‚       â”‚   â”œâ”€â”€ wall_milestone.mcfunction
â”‚       â”‚       â”‚   â””â”€â”€ perfect_wall.mcfunction
â”‚       â”‚       â””â”€â”€ en_us/
â”‚       â”‚           â”œâ”€â”€ game_start.mcfunction
â”‚       â”‚           â”œâ”€â”€ game_over.mcfunction
â”‚       â”‚           â”œâ”€â”€ wall_milestone.mcfunction
â”‚       â”‚           â””â”€â”€ perfect_wall.mcfunction
â”‚       â””â”€â”€ tags/function/
â”‚           â”œâ”€â”€ load.json
â”‚           â””â”€â”€ tick.json
â”‚
â”œâ”€â”€ runhole_score/             # ã‚¹ã‚³ã‚¢è¨ˆç®—ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
â”‚   â”œâ”€â”€ pack.mcmeta
â”‚   â””â”€â”€ data/runhole_score/
â”‚       â”œâ”€â”€ function/
â”‚       â”‚   â”œâ”€â”€ init.mcfunction
â”‚       â”‚   â”œâ”€â”€ main.mcfunction
â”‚       â”‚   â”œâ”€â”€ calculate/
â”‚       â”‚   â”‚   â”œâ”€â”€ base.mcfunction              # åŸºæœ¬ã‚¹ã‚³ã‚¢ï¼ˆå£é€šéæ•°ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ perfect_bonus.mcfunction     # ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒœãƒ¼ãƒŠã‚¹
â”‚       â”‚   â”‚   â”œâ”€â”€ time_bonus.mcfunction        # æ™‚é–“ãƒœãƒ¼ãƒŠã‚¹
â”‚       â”‚   â”‚   â””â”€â”€ total.mcfunction             # åˆè¨ˆã‚¹ã‚³ã‚¢è¨ˆç®—
â”‚       â”‚   â””â”€â”€ reward/
â”‚       â”‚       â”œâ”€â”€ speed_boost.mcfunction       # ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆæ™‚ã®é€Ÿåº¦ä¸Šæ˜‡
â”‚       â”‚       â””â”€â”€ effects.mcfunction           # ãã®ä»–ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
â”‚       â””â”€â”€ tags/function/
â”‚           â”œâ”€â”€ load.json
â”‚           â””â”€â”€ tick.json
â”‚
â”œâ”€â”€ runhole_mode_race/         # ãƒ¬ãƒ¼ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
â”‚   â”œâ”€â”€ pack.mcmeta
â”‚   â””â”€â”€ data/runhole_race/
â”‚       â”œâ”€â”€ function/
â”‚       â”‚   â”œâ”€â”€ init.mcfunction
â”‚       â”‚   â”œâ”€â”€ main.mcfunction
â”‚       â”‚   â”œâ”€â”€ lobby/
â”‚       â”‚   â”‚   â”œâ”€â”€ join.mcfunction              # ãƒ­ãƒ“ãƒ¼å‚åŠ 
â”‚       â”‚   â”‚   â”œâ”€â”€ ready.mcfunction             # æº–å‚™å®Œäº†
â”‚       â”‚   â”‚   â””â”€â”€ start_countdown.mcfunction   # ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³é–‹å§‹
â”‚       â”‚   â”œâ”€â”€ race/
â”‚       â”‚   â”‚   â”œâ”€â”€ start_all.mcfunction         # å…¨å“¡åŒæ™‚ã‚¹ã‚¿ãƒ¼ãƒˆ
â”‚       â”‚   â”‚   â”œâ”€â”€ check_finish.mcfunction      # ã‚´ãƒ¼ãƒ«ãƒã‚§ãƒƒã‚¯
â”‚       â”‚   â”‚   â””â”€â”€ wait_all.mcfunction          # å…¨å“¡ã‚´ãƒ¼ãƒ«å¾…æ©Ÿ
â”‚       â”‚   â”œâ”€â”€ ranking/
â”‚       â”‚   â”‚   â”œâ”€â”€ calculate.mcfunction         # é †ä½è¨ˆç®—
â”‚       â”‚   â”‚   â””â”€â”€ display.mcfunction           # é †ä½è¡¨ç¤º
â”‚       â”‚   â””â”€â”€ perfect_mode/
â”‚       â”‚       â”œâ”€â”€ enable.mcfunction            # ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–
â”‚       â”‚       â””â”€â”€ check.mcfunction             # ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒã‚§ãƒƒã‚¯
â”‚       â””â”€â”€ tags/function/
â”‚           â”œâ”€â”€ load.json
â”‚           â””â”€â”€ tick.json
â”‚
â””â”€â”€ runhole_mode_timeattack/   # ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ï¼ˆTODO: ä»Šå›ã¯å®Ÿè£…ã—ãªã„ï¼‰
    â”œâ”€â”€ pack.mcmeta
    â””â”€â”€ data/runhole_timeattack/
        â””â”€â”€ ...
```

---

## ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰é€£æº

### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã§ç®¡ç†ã•ã‚Œã‚‹Objectiveï¼ˆå‚ç…§å¯èƒ½ï¼‰

| Objectiveå | èª¬æ˜ | ç”¨é€” |
|------------|------|------|
| `runhole_game_state` | ã‚²ãƒ¼ãƒ çŠ¶æ…‹ï¼ˆ0:æœªå‚åŠ , 1:ãƒ—ãƒ¬ã‚¤ä¸­, 2:çµ‚äº†ï¼‰ | ã‚²ãƒ¼ãƒ åˆ¶å¾¡ã®æ¡ä»¶åˆ†å² |
| `runhole_end_type` | çµ‚äº†ç†ç”±ï¼ˆ0:æœªè¨­å®š, 1:è¡çª, 2:ã‚³ãƒãƒ³ãƒ‰åœæ­¢, 3:Shifté€€å‡º, 4:ãƒ­ã‚°ã‚¢ã‚¦ãƒˆï¼‰ | çµ‚äº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®åˆ†å² |
| `runhole_walls_passed` | é€šéã—ãŸå£ã®æ•° | è·é›¢ã‚¹ã‚³ã‚¢ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ |
| `runhole_holes_traced` | ãªãã£ãŸç©´ã®æ•° | ç©´ãªãã‚Šé”æˆåº¦ |
| `runhole_perfect_walls` | ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆé€šéæ•° | ãƒœãƒ¼ãƒŠã‚¹æ¼”å‡º |
| `runhole_move_count` | ç§»å‹•æ“ä½œå›æ•° | æ“ä½œé »åº¦åˆ†æ |
| `runhole_rotation_count` | å›è»¢æ“ä½œå›æ•° | å›è»¢åˆ¶é™ãƒãƒ£ãƒ¬ãƒ³ã‚¸ |
| `runhole_is_boosting` | ãƒ–ãƒ¼ã‚¹ãƒˆä¸­ãƒ•ãƒ©ã‚°ï¼ˆ0/1ï¼‰ | ãƒ–ãƒ¼ã‚¹ãƒˆæ¼”å‡º |

### ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯å´ã§ç®¡ç†ã•ã‚Œã‚‹Objectiveï¼ˆæ–°è¦è¿½åŠ ï¼‰

#### runhole_core

| Objectiveå | èª¬æ˜ | ç”¨é€” |
|------------|------|------|
| `runhole_spectator_timer` | ã‚¹ãƒšã‚¯ãƒ†ãƒ¼ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰çµŒéæ™‚é–“ï¼ˆtickï¼‰ | 3ç§’å¾Œã®stopGameå‘¼ã³å‡ºã— |
| `runhole_game_time` | ã‚²ãƒ¼ãƒ çµŒéæ™‚é–“ï¼ˆtickï¼‰ | ãƒ—ãƒ¬ã‚¤æ™‚é–“è¨ˆæ¸¬ |
| `runhole_goal_trigger` | ã‚´ãƒ¼ãƒ«ãƒˆãƒªã‚¬ãƒ¼ï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ç”¨ï¼‰ | ã‚´ãƒ¼ãƒ«åˆ¤å®šãƒ•ãƒ©ã‚° |
| `runhole_stop_request` | stopGameãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ•ãƒ©ã‚° | ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã‹ã‚‰stopGameã‚’è¦æ±‚ |
| `runhole_lang` | è¨€èªè¨­å®šï¼ˆ0: ja_jp, 1: en_usï¼‰ | i18n |
| `runhole_msg_shown` | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºæ¸ˆã¿ãƒ•ãƒ©ã‚° | é‡è¤‡è¡¨ç¤ºé˜²æ­¢ |

#### runhole_score

| Objectiveå | èª¬æ˜ | ç”¨é€” |
|------------|------|------|
| `runhole_score_base` | åŸºæœ¬ã‚¹ã‚³ã‚¢ | å£é€šéæ•° Ã— 100 |
| `runhole_score_perfect` | ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒœãƒ¼ãƒŠã‚¹ | ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆé€šé Ã— 500 |
| `runhole_score_time` | æ™‚é–“ãƒœãƒ¼ãƒŠã‚¹ | é€Ÿã•ã«å¿œã˜ãŸãƒœãƒ¼ãƒŠã‚¹ |
| `runhole_score_total` | åˆè¨ˆã‚¹ã‚³ã‚¢ | æœ€çµ‚ã‚¹ã‚³ã‚¢ |

#### runhole_mode_race

| Objectiveå | èª¬æ˜ | ç”¨é€” |
|------------|------|------|
| `runhole_race_ready` | æº–å‚™å®Œäº†ãƒ•ãƒ©ã‚°ï¼ˆ0/1ï¼‰ | ãƒ­ãƒ“ãƒ¼æº–å‚™çŠ¶æ…‹ |
| `runhole_race_rank` | ãƒ¬ãƒ¼ã‚¹é †ä½ | 1ä½ã€2ä½ã€... |
| `runhole_race_finish_time` | ã‚´ãƒ¼ãƒ«æ™‚åˆ»ï¼ˆtickï¼‰ | ã‚¿ã‚¤ãƒ è¨˜éŒ² |
| `runhole_perfect_mode` | ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰ãƒ•ãƒ©ã‚°ï¼ˆ0/1ï¼‰ | å…¨ç©´ãªãã‚Šå¿…é ˆãƒ¢ãƒ¼ãƒ‰ |

### TODO: é€Ÿåº¦ã®ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰åŒ–ï¼ˆä»Šå›ã¯å®Ÿè£…ã—ãªã„ï¼‰

å°†æ¥çš„ã«ä»¥ä¸‹ã®Objectiveã‚’è¿½åŠ äºˆå®šï¼š

| Objectiveå | èª¬æ˜ | ç”¨é€” |
|------------|------|------|
| `runhole_speed_forward` | å‰é€²é€Ÿåº¦ï¼ˆÃ— 1000ï¼‰ | ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰é€Ÿåº¦èª¿æ•´ |
| `runhole_speed_boost` | ãƒ–ãƒ¼ã‚¹ãƒˆé€Ÿåº¦ï¼ˆÃ— 1000ï¼‰ | ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰ãƒ–ãƒ¼ã‚¹ãƒˆé€Ÿåº¦èª¿æ•´ |

---

## 1. runhole_coreï¼ˆã‚³ã‚¢æ©Ÿèƒ½ + ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºï¼‰

### æ¦‚è¦

- **å¿…é ˆãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯**
- ã‚¹ãƒšã‚¯ãƒ†ãƒ¼ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰3ç§’ã‚¿ã‚¤ãƒãƒ¼ â†’ stopGameå‘¼ã³å‡ºã—
- ã‚²ãƒ¼ãƒ æ™‚é–“è¨ˆæ¸¬
- ã‚´ãƒ¼ãƒ«åˆ¤å®šï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãƒˆãƒªã‚¬ãƒ¼ï¼‰
- **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºï¼ˆå¤šè¨€èªå¯¾å¿œï¼‰**
  - ã‚²ãƒ¼ãƒ é–‹å§‹ã€ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã€ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆé€šé
  - è¨€èªåˆ¥ãƒ•ã‚©ãƒ«ãƒ€ã§ i18n å¯¾å¿œï¼ˆja_jp, en_usï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
runhole_core/
â”œâ”€â”€ pack.mcmeta
â””â”€â”€ data/runhole_core/
    â”œâ”€â”€ function/
    â”‚   â”œâ”€â”€ init.mcfunction
    â”‚   â”œâ”€â”€ main.mcfunction
    â”‚   â”œâ”€â”€ config.mcfunction
    â”‚   â”œâ”€â”€ spectator/
    â”‚   â”‚   â”œâ”€â”€ timer.mcfunction
    â”‚   â”‚   â””â”€â”€ call_stop.mcfunction
    â”‚   â”œâ”€â”€ timer/
    â”‚   â”‚   â””â”€â”€ tick.mcfunction
    â”‚   â”œâ”€â”€ goal/
    â”‚   â”‚   â”œâ”€â”€ check.mcfunction
    â”‚   â”‚   â””â”€â”€ reached.mcfunction
    â”‚   â”œâ”€â”€ message/
    â”‚   â”‚   â”œâ”€â”€ game_start.mcfunction
    â”‚   â”‚   â”œâ”€â”€ game_over.mcfunction
    â”‚   â”‚   â”œâ”€â”€ wall_milestone.mcfunction
    â”‚   â”‚   â””â”€â”€ perfect_wall.mcfunction
    â”‚   â””â”€â”€ lang/
    â”‚       â”œâ”€â”€ ja_jp/
    â”‚       â”‚   â”œâ”€â”€ game_start.mcfunction
    â”‚       â”‚   â”œâ”€â”€ game_over.mcfunction
    â”‚       â”‚   â”œâ”€â”€ wall_milestone.mcfunction
    â”‚       â”‚   â””â”€â”€ perfect_wall.mcfunction
    â”‚       â””â”€â”€ en_us/
    â”‚           â”œâ”€â”€ game_start.mcfunction
    â”‚           â”œâ”€â”€ game_over.mcfunction
    â”‚           â”œâ”€â”€ wall_milestone.mcfunction
    â”‚           â””â”€â”€ perfect_wall.mcfunction
    â””â”€â”€ tags/function/
        â”œâ”€â”€ load.json
        â””â”€â”€ tick.json
```

### å®Ÿè£…è©³ç´°

#### `pack.mcmeta`

```json
{
  "pack": {
    "pack_format": 48,
    "description": "RunThroughHole Core System (Required)"
  }
}
```

#### `function/init.mcfunction`

```mcfunction
# ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰åˆæœŸåŒ–ï¼ˆã‚³ã‚¢æ©Ÿèƒ½ï¼‰
scoreboard objectives add runhole_spectator_timer dummy "ã‚¹ãƒšã‚¯ãƒ†ãƒ¼ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒãƒ¼"
scoreboard objectives add runhole_game_time dummy "ã‚²ãƒ¼ãƒ æ™‚é–“"
scoreboard objectives add runhole_goal_trigger dummy "ã‚´ãƒ¼ãƒ«ãƒˆãƒªã‚¬ãƒ¼"
scoreboard objectives add runhole_stop_request dummy "stopGameãƒªã‚¯ã‚¨ã‚¹ãƒˆ"

# ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰åˆæœŸåŒ–ï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ©Ÿèƒ½ï¼‰
scoreboard objectives add runhole_lang dummy "è¨€èªè¨­å®š"
scoreboard objectives add runhole_msg_shown dummy "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºæ¸ˆã¿"

# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨€èª: ja_jp (0), en_us (1)
execute as @a unless score @s runhole_lang matches 0.. run scoreboard players set @s runhole_lang 0

tellraw @a [{"text":"[RunHole Core] ","color":"aqua","bold":true},{"text":"ã‚³ã‚¢æ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ","color":"white","bold":false}]
```

#### `function/config.mcfunction`

```mcfunction
# è¨€èªè¨­å®š
# 0: ja_jp (æ—¥æœ¬èª)
# 1: en_us (English)

# å…¨å“¡ã‚’æ—¥æœ¬èªã«è¨­å®š
scoreboard players set @a runhole_lang 0

# å…¨å“¡ã‚’è‹±èªã«è¨­å®š
# scoreboard players set @a runhole_lang 1
```

#### `function/main.mcfunction`

```mcfunction
# ã‚¹ãƒšã‚¯ãƒ†ãƒ¼ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒãƒ¼
function runhole_core:spectator/timer

# ã‚²ãƒ¼ãƒ æ™‚é–“è¨ˆæ¸¬
function runhole_core:timer/tick

# ã‚´ãƒ¼ãƒ«åˆ¤å®š
function runhole_core:goal/check

# ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
execute as @a[scores={runhole_game_state=1,runhole_walls_passed=0}] unless score @s runhole_msg_shown matches 1.. run function runhole_core:message/game_start
execute as @a[scores={runhole_game_state=2}] unless score @s runhole_msg_shown matches 2.. run function runhole_core:message/game_over
execute as @a[scores={runhole_game_state=1}] run function runhole_core:message/wall_milestone
execute as @a[scores={runhole_game_state=1}] run function runhole_core:message/perfect_wall

# ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºãƒ•ãƒ©ã‚°ã‚’ãƒªã‚»ãƒƒãƒˆ
execute as @a[scores={runhole_game_state=1,runhole_walls_passed=0}] run scoreboard players set @s runhole_msg_shown 1
execute as @a[scores={runhole_game_state=2,runhole_spectator_timer=0}] run scoreboard players set @s runhole_msg_shown 2
```

#### `function/spectator/timer.mcfunction`

```mcfunction
# ã‚²ãƒ¼ãƒ çµ‚äº†çŠ¶æ…‹ï¼ˆrunhole_game_state=2ï¼‰ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¿ã‚¤ãƒãƒ¼ã‚’é€²ã‚ã‚‹
execute as @a[scores={runhole_game_state=2,runhole_spectator_timer=0..59}] run scoreboard players add @s runhole_spectator_timer 1

# 3ç§’ï¼ˆ60tickï¼‰çµŒéã—ãŸã‚‰stopGameã‚’å‘¼ã³å‡ºã—
execute as @a[scores={runhole_game_state=2,runhole_spectator_timer=60}] run function runhole_core:spectator/call_stop
```

#### `function/spectator/call_stop.mcfunction`

```mcfunction
# stopGameãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ•ãƒ©ã‚°ã‚’ç«‹ã¦ã‚‹ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ãŒç›£è¦–ï¼‰
scoreboard players set @s runhole_stop_request 1

# ã‚¿ã‚¤ãƒãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆå†åº¦å‘¼ã°ã‚Œãªã„ã‚ˆã†ã«ï¼‰
scoreboard players reset @s runhole_spectator_timer

# ãƒ­ã‚°å‡ºåŠ›ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
tellraw @s [{"text":"[RunHole Core] ","color":"aqua"},{"text":"ã‚²ãƒ¼ãƒ çµ‚äº†å‡¦ç†ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¾ã—ãŸ","color":"gray"}]
```

#### `function/timer/start.mcfunction`

```mcfunction
# ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ï¼ˆrunhole_game_state=1ã«ãªã£ãŸç¬é–“ï¼‰
scoreboard players set @s runhole_game_time 0
```

#### `function/timer/tick.mcfunction`

```mcfunction
# ã‚²ãƒ¼ãƒ ä¸­ï¼ˆrunhole_game_state=1ï¼‰ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ™‚é–“ã‚’é€²ã‚ã‚‹
execute as @a[scores={runhole_game_state=1}] run scoreboard players add @s runhole_game_time 1
```

#### `function/goal/check.mcfunction`

```mcfunction
# ã‚´ãƒ¼ãƒ«ãƒˆãƒªã‚¬ãƒ¼ãŒç«‹ã£ã¦ã„ã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ã‚´ãƒ¼ãƒ«æ‰±ã„ã«ã™ã‚‹
# ï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã§ `scoreboard players set <player> runhole_goal_trigger 1` ã‚’å®Ÿè¡Œï¼‰

execute as @a[scores={runhole_goal_trigger=1..}] run function runhole_core:goal/reached
```

#### `function/goal/reached.mcfunction`

```mcfunction
# ã‚´ãƒ¼ãƒ«åˆ°é”æ™‚ã®å‡¦ç†

# ã‚²ãƒ¼ãƒ ã‚’çµ‚äº†ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã®å‡¦ç†ã¯ç¶™ç¶šï¼‰
scoreboard players set @s runhole_game_state 2
scoreboard players set @s runhole_end_type 5

# ãƒˆãƒªã‚¬ãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ
scoreboard players reset @s runhole_goal_trigger

# ãƒ­ã‚°å‡ºåŠ›
tellraw @s [{"text":"[RunHole Core] ","color":"aqua"},{"text":"ã‚´ãƒ¼ãƒ«åˆ¤å®šãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸ","color":"gold"}]
```

#### `tags/function/load.json`

```json
{
  "values": [
    "runhole_core:init"
  ]
}
```

#### `tags/function/tick.json`

```json
{
  "values": [
    "runhole_core:main"
  ]
}
```

---

## 2. runhole_messageï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºï¼‰

### æ¦‚è¦

- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å†…ã®sendMessageã€ã‚¿ã‚¤ãƒˆãƒ«è¡¨ç¤ºã‚’ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã«ç§»è¡Œ
- å¤šè¨€èªå¯¾å¿œï¼ˆja_jp.mcfunctionã€en_us.mcfunctionã«å…¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é›†ç´„ï¼‰
- è¨€èªè¨­å®šã¯config.mcfunctionã§åˆ‡ã‚Šæ›¿ãˆ

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
runhole_message/
â”œâ”€â”€ pack.mcmeta
â””â”€â”€ data/runhole_message/
    â”œâ”€â”€ function/
    â”‚   â”œâ”€â”€ init.mcfunction
    â”‚   â”œâ”€â”€ main.mcfunction
    â”‚   â”œâ”€â”€ config.mcfunction
    â”‚   â”œâ”€â”€ lang/
    â”‚   â”‚   â”œâ”€â”€ ja_jp.mcfunction
    â”‚   â”‚   â””â”€â”€ en_us.mcfunction
    â”‚   â””â”€â”€ display/
    â”‚       â”œâ”€â”€ game_start.mcfunction
    â”‚       â”œâ”€â”€ game_over.mcfunction
    â”‚       â”œâ”€â”€ wall_milestone.mcfunction
    â”‚       â””â”€â”€ perfect_wall.mcfunction
    â””â”€â”€ tags/function/
        â”œâ”€â”€ load.json
        â””â”€â”€ tick.json
```

### å®Ÿè£…è©³ç´°

#### `pack.mcmeta`

```json
{
  "pack": {
    "pack_format": 48,
    "description": "RunThroughHole Message System (i18n)"
  }
}
```

#### `function/init.mcfunction`

```mcfunction
# è¨€èªè¨­å®šã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰
scoreboard objectives add runhole_lang dummy "è¨€èªè¨­å®š"

# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨€èª: ja_jp (0), en_us (1)
execute as @a unless score @s runhole_lang matches 0.. run scoreboard players set @s runhole_lang 0

# ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºãƒ•ãƒ©ã‚°ï¼ˆé‡è¤‡é˜²æ­¢ï¼‰
scoreboard objectives add runhole_msg_shown dummy "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºæ¸ˆã¿"

tellraw @a [{"text":"[RunHole Message] ","color":"yellow","bold":true},{"text":"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ","color":"white","bold":false}]
```

#### `function/config.mcfunction`

```mcfunction
# è¨€èªè¨­å®š
# 0: ja_jp (æ—¥æœ¬èª)
# 1: en_us (English)

# å…¨å“¡ã‚’æ—¥æœ¬èªã«è¨­å®š
scoreboard players set @a runhole_lang 0

# å…¨å“¡ã‚’è‹±èªã«è¨­å®š
# scoreboard players set @a runhole_lang 1
```

#### `function/main.mcfunction`

```mcfunction
# ã‚²ãƒ¼ãƒ é–‹å§‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆrunhole_game_state=1, runhole_walls_passed=0ï¼‰
execute as @a[scores={runhole_game_state=1,runhole_walls_passed=0}] unless score @s runhole_msg_shown matches 1.. run function runhole_message:display/game_start

# ã‚²ãƒ¼ãƒ çµ‚äº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆrunhole_game_state=2ï¼‰
execute as @a[scores={runhole_game_state=2}] unless score @s runhole_msg_shown matches 2.. run function runhole_message:display/game_over

# å£åˆ°é”ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³
execute as @a[scores={runhole_game_state=1}] run function runhole_message:display/wall_milestone

# ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆé€šéæ¼”å‡º
execute as @a[scores={runhole_game_state=1}] run function runhole_message:display/perfect_wall

# ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºãƒ•ãƒ©ã‚°ã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆã‚²ãƒ¼ãƒ é–‹å§‹æ™‚ï¼‰
execute as @a[scores={runhole_game_state=1,runhole_walls_passed=0}] run scoreboard players set @s runhole_msg_shown 1

# ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºãƒ•ãƒ©ã‚°ã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆã‚²ãƒ¼ãƒ çµ‚äº†æ™‚ï¼‰
execute as @a[scores={runhole_game_state=2,runhole_spectator_timer=0}] run scoreboard players set @s runhole_msg_shown 2
```

#### `function/display/game_start.mcfunction`

```mcfunction
# è¨€èªã«å¿œã˜ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
execute if score @s runhole_lang matches 0 run function runhole_message:lang/ja_jp/game_start
execute if score @s runhole_lang matches 1 run function runhole_message:lang/en_us/game_start
```

#### `function/lang/ja_jp.mcfunction`

**æ³¨æ„**: å®Ÿéš›ã«ã¯ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€ã«åˆ†å‰²ã—ã¾ã™ãŒã€ã“ã“ã§ã¯å…¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’1ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¾ã¨ã‚ãŸä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

```mcfunction
# ========================================
# æ—¥æœ¬èªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§
# ========================================

# ã‚²ãƒ¼ãƒ é–‹å§‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
function runhole_message:lang/ja_jp/game_start

# ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
function runhole_message:lang/ja_jp/game_over

# å£åˆ°é”ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³
function runhole_message:lang/ja_jp/wall_milestone

# ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆé€šé
function runhole_message:lang/ja_jp/perfect_wall
```

#### `function/lang/ja_jp/game_start.mcfunction`

```mcfunction
# ã‚²ãƒ¼ãƒ é–‹å§‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆæ—¥æœ¬èªï¼‰
tellraw @s {"text":"========== ç©´æŠœã‘ã‚²ãƒ¼ãƒ é–‹å§‹ ==========","color":"gold","bold":true}
tellraw @s {"text":"ç›®æ¨™: ","color":"red","bold":true,"extra":[{"text":"å£ã«å½“ãŸã‚‰ãªã„ã‚ˆã†ã«é€²ã¿ç¶šã‘ã‚ˆã†ï¼","color":"white","bold":false}]}
tellraw @s {"text":"ã€ç§»å‹•æ“ä½œã€‘","color":"yellow","bold":true}
tellraw @s {"text":"  W/A/S/D ","color":"green","extra":[{"text":"- ä¸Šä¸‹å·¦å³ã«ç§»å‹•","color":"white"}]}
tellraw @s {"text":"  Space ","color":"green","extra":[{"text":"- ãƒ–ãƒ¼ã‚¹ãƒˆ","color":"white"}]}
tellraw @s {"text":"  Shift ","color":"green","extra":[{"text":"- ã‚²ãƒ¼ãƒ çµ‚äº†","color":"white"}]}
tellraw @s {"text":"ã€å›è»¢æ“ä½œã€‘","color":"yellow","bold":true}
tellraw @s {"text":"  Q/E ","color":"green","extra":[{"text":"- Zè»¸å›è»¢","color":"white"}]}
tellraw @s {"text":"  çŸ¢å°ã‚­ãƒ¼ ","color":"green","extra":[{"text":"- X/Yè»¸å›è»¢","color":"white"}]}
tellraw @s {"text":"========================================","color":"gold","bold":true}

# åŠ¹æœéŸ³
playsound minecraft:entity.player.levelup master @s ~ ~ ~ 1.0 1.0

# ã‚¿ã‚¤ãƒˆãƒ«è¡¨ç¤º
title @s title {"text":"ã‚¹ã‚¿ãƒ¼ãƒˆï¼","color":"green","bold":true}
title @s subtitle {"text":"å£ã‚’é¿ã‘ã¦é€²ã‚‚ã†ï¼","color":"white"}
title @s times 10 40 10
```

#### `function/lang/ja_jp/game_over.mcfunction`

```mcfunction
# ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆæ—¥æœ¬èªã€çµ‚äº†ç†ç”±åˆ¥ï¼‰

# è¡çªã«ã‚ˆã‚‹ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼
execute if score @s runhole_end_type matches 1 run title @s title {"text":"ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼","color":"red","bold":true}
execute if score @s runhole_end_type matches 1 run title @s subtitle {"text":"å£ã«è¡çªã—ã¾ã—ãŸ","color":"yellow"}
execute if score @s runhole_end_type matches 1 run title @s times 10 60 10
execute if score @s runhole_end_type matches 1 run tellraw @s {"text":"ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼: å£ã«è¡çªã—ã¾ã—ãŸ","color":"red"}
execute if score @s runhole_end_type matches 1 run playsound minecraft:entity.ender_dragon.death master @s ~ ~ ~ 1.0 1.0

# ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚‹åœæ­¢
execute if score @s runhole_end_type matches 2 run title @s title {"text":"åœæ­¢","color":"gold"}
execute if score @s runhole_end_type matches 2 run title @s subtitle {"text":"ç®¡ç†è€…ã«ã‚ˆã£ã¦åœæ­¢ã•ã‚Œã¾ã—ãŸ","color":"yellow"}
execute if score @s runhole_end_type matches 2 run tellraw @s {"text":"ã‚²ãƒ¼ãƒ ãŒç®¡ç†è€…ã«ã‚ˆã£ã¦åœæ­¢ã•ã‚Œã¾ã—ãŸ","color":"gold"}
execute if score @s runhole_end_type matches 2 run playsound minecraft:block.note_block.pling master @s ~ ~ ~ 1.0 0.5

# Shiftã‚­ãƒ¼ã«ã‚ˆã‚‹é€€å‡º
execute if score @s runhole_end_type matches 3 run title @s title {"text":"çµ‚äº†","color":"aqua"}
execute if score @s runhole_end_type matches 3 run title @s subtitle {"text":"è‡ªä¸»é€€å‡ºã—ã¾ã—ãŸ","color":"gray"}
execute if score @s runhole_end_type matches 3 run tellraw @s {"text":"ã‚²ãƒ¼ãƒ ã‚’çµ‚äº†ã—ã¾ã—ãŸ","color":"yellow"}
execute if score @s runhole_end_type matches 3 run playsound minecraft:block.note_block.pling master @s ~ ~ ~ 1.0 0.5

# ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
execute if score @s runhole_end_type matches 4 run tellraw @s {"text":"ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã«ã‚ˆã‚Šã‚²ãƒ¼ãƒ ãŒçµ‚äº†ã—ã¾ã—ãŸ","color":"gray"}

# ã‚´ãƒ¼ãƒ«ï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãƒˆãƒªã‚¬ãƒ¼ï¼‰
execute if score @s runhole_end_type matches 5 run title @s title {"text":"ã‚´ãƒ¼ãƒ«ï¼","color":"gold","bold":true}
execute if score @s runhole_end_type matches 5 run tellraw @s {"text":"ã‚´ãƒ¼ãƒ«ã«åˆ°é”ã—ã¾ã—ãŸï¼","color":"gold"}
execute if score @s runhole_end_type matches 5 run playsound minecraft:ui.toast.challenge_complete master @s ~ ~ ~ 1.0 1.0
```

#### `function/lang/ja_jp/wall_milestone.mcfunction`

```mcfunction
# å£åˆ°é”ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ï¼ˆæ—¥æœ¬èªï¼‰

execute if score @s runhole_walls_passed matches 10 run tellraw @s {"text":"ğŸ‰ 10æšã®å£ã‚’çªç ´ï¼","color":"gold","bold":true}
execute if score @s runhole_walls_passed matches 10 run playsound minecraft:ui.toast.challenge_complete master @s ~ ~ ~ 1.0 1.0

execute if score @s runhole_walls_passed matches 20 run tellraw @s {"text":"ğŸ‰ 20æšã®å£ã‚’çªç ´ï¼","color":"gold","bold":true}
execute if score @s runhole_walls_passed matches 20 run playsound minecraft:ui.toast.challenge_complete master @s ~ ~ ~ 1.0 1.0

execute if score @s runhole_walls_passed matches 50 run tellraw @s {"text":"ğŸ† 50æšã®å£ã‚’çªç ´ï¼ã™ã”ã„ï¼","color":"gold","bold":true}
execute if score @s runhole_walls_passed matches 50 run playsound minecraft:ui.toast.challenge_complete master @s ~ ~ ~ 1.0 1.0

execute if score @s runhole_walls_passed matches 100 run tellraw @s {"text":"ğŸ†ğŸ† 100æšã®å£ã‚’çªç ´ï¼ä¼èª¬ç´šï¼","color":"gold","bold":true}
execute if score @s runhole_walls_passed matches 100 run playsound minecraft:ui.toast.challenge_complete master @s ~ ~ ~ 1.0 1.0
```

#### `function/lang/ja_jp/perfect_wall.mcfunction`

```mcfunction
# ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆé€šéæ¼”å‡ºï¼ˆæ—¥æœ¬èªï¼‰

execute if score @s runhole_perfect_walls matches 5 run title @s actionbar {"text":"â­ 5å›é€£ç¶šãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆï¼","color":"aqua","bold":true}
execute if score @s runhole_perfect_walls matches 5 run playsound minecraft:entity.experience_orb.pickup master @s ~ ~ ~ 1.0 1.5

execute if score @s runhole_perfect_walls matches 10 run title @s actionbar {"text":"â­â­ 10å›é€£ç¶šãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆï¼","color":"gold","bold":true}
execute if score @s runhole_perfect_walls matches 10 run playsound minecraft:entity.player.levelup master @s ~ ~ ~ 1.0 2.0
```

#### `function/lang/en_us/game_start.mcfunction`

```mcfunction
# Game Start Message (English)
tellraw @s {"text":"========== Run Through Hole - Start ==========","color":"gold","bold":true}
tellraw @s {"text":"Goal: ","color":"red","bold":true,"extra":[{"text":"Keep moving without hitting the walls!","color":"white","bold":false}]}
tellraw @s {"text":"[Movement]","color":"yellow","bold":true}
tellraw @s {"text":"  W/A/S/D ","color":"green","extra":[{"text":"- Move up/left/down/right","color":"white"}]}
tellraw @s {"text":"  Space ","color":"green","extra":[{"text":"- Boost","color":"white"}]}
tellraw @s {"text":"  Shift ","color":"green","extra":[{"text":"- Quit game","color":"white"}]}
tellraw @s {"text":"[Rotation]","color":"yellow","bold":true}
tellraw @s {"text":"  Q/E ","color":"green","extra":[{"text":"- Rotate Z-axis","color":"white"}]}
tellraw @s {"text":"  Arrow Keys ","color":"green","extra":[{"text":"- Rotate X/Y-axis","color":"white"}]}
tellraw @s {"text":"============================================","color":"gold","bold":true}

# Sound effect
playsound minecraft:entity.player.levelup master @s ~ ~ ~ 1.0 1.0

# Title
title @s title {"text":"START!","color":"green","bold":true}
title @s subtitle {"text":"Avoid the walls!","color":"white"}
title @s times 10 40 10
```

ï¼ˆä»–ã®è‹±èªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚‚åŒæ§˜ã«ä½œæˆï¼‰

#### `tags/function/load.json`

```json
{
  "values": [
    "runhole_message:init"
  ]
}
```

#### `tags/function/tick.json`

```json
{
  "values": [
    "runhole_message:main"
  ]
}
```

---

## 3. runhole_scoreï¼ˆã‚¹ã‚³ã‚¢è¨ˆç®—ï¼‰

### æ¦‚è¦

- åŸºæœ¬ã‚¹ã‚³ã‚¢: å£é€šéæ•° Ã— 100
- ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒœãƒ¼ãƒŠã‚¹: ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆé€šé Ã— 500
- æ™‚é–“ãƒœãƒ¼ãƒŠã‚¹: é€Ÿã•ã«å¿œã˜ã¦åŠ ç®—
- ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆé€šéæ™‚ã®ç‰¹å…¸ï¼ˆé€Ÿåº¦ä¸Šæ˜‡ã‚¨ãƒ•ã‚§ã‚¯ãƒˆãªã©ï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
runhole_score/
â”œâ”€â”€ pack.mcmeta
â””â”€â”€ data/runhole_score/
    â”œâ”€â”€ function/
    â”‚   â”œâ”€â”€ init.mcfunction
    â”‚   â”œâ”€â”€ main.mcfunction
    â”‚   â”œâ”€â”€ calculate/
    â”‚   â”‚   â”œâ”€â”€ base.mcfunction
    â”‚   â”‚   â”œâ”€â”€ perfect_bonus.mcfunction
    â”‚   â”‚   â”œâ”€â”€ time_bonus.mcfunction
    â”‚   â”‚   â””â”€â”€ total.mcfunction
    â”‚   â””â”€â”€ reward/
    â”‚       â”œâ”€â”€ speed_boost.mcfunction
    â”‚       â””â”€â”€ effects.mcfunction
    â””â”€â”€ tags/function/
        â”œâ”€â”€ load.json
        â””â”€â”€ tick.json
```

### å®Ÿè£…è©³ç´°

#### `pack.mcmeta`

```json
{
  "pack": {
    "pack_format": 48,
    "description": "RunThroughHole Score System"
  }
}
```

#### `function/init.mcfunction`

```mcfunction
# ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰åˆæœŸåŒ–
scoreboard objectives add runhole_score_base dummy "åŸºæœ¬ã‚¹ã‚³ã‚¢"
scoreboard objectives add runhole_score_perfect dummy "ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒœãƒ¼ãƒŠã‚¹"
scoreboard objectives add runhole_score_time dummy "æ™‚é–“ãƒœãƒ¼ãƒŠã‚¹"
scoreboard objectives add runhole_score_total dummy "åˆè¨ˆã‚¹ã‚³ã‚¢"

tellraw @a [{"text":"[RunHole Score] ","color":"light_purple","bold":true},{"text":"ã‚¹ã‚³ã‚¢è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ","color":"white","bold":false}]
```

#### `function/main.mcfunction`

```mcfunction
# ã‚²ãƒ¼ãƒ ä¸­ã®ã‚¹ã‚³ã‚¢è¨ˆç®—
execute as @a[scores={runhole_game_state=1}] run function runhole_score:calculate/base
execute as @a[scores={runhole_game_state=1}] run function runhole_score:calculate/perfect_bonus
execute as @a[scores={runhole_game_state=1}] run function runhole_score:calculate/time_bonus
execute as @a[scores={runhole_game_state=1}] run function runhole_score:calculate/total

# ç‰¹å…¸ä»˜ä¸
execute as @a[scores={runhole_game_state=1}] run function runhole_score:reward/speed_boost
```

#### `function/calculate/base.mcfunction`

```mcfunction
# åŸºæœ¬ã‚¹ã‚³ã‚¢ = å£é€šéæ•° Ã— 100
scoreboard players operation @s runhole_score_base = @s runhole_walls_passed
scoreboard players operation @s runhole_score_base *= #100 runhole_score_base
```

**æ³¨æ„**: `#100` ã¯å®šæ•°ã¨ã—ã¦åˆæœŸåŒ–æ™‚ã«è¨­å®šï¼ˆ`scoreboard players set #100 runhole_score_base 100`ï¼‰

#### `function/calculate/perfect_bonus.mcfunction`

```mcfunction
# ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒœãƒ¼ãƒŠã‚¹ = ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆé€šé Ã— 500
scoreboard players operation @s runhole_score_perfect = @s runhole_perfect_walls
scoreboard players operation @s runhole_score_perfect *= #500 runhole_score_perfect
```

#### `function/calculate/time_bonus.mcfunction`

```mcfunction
# æ™‚é–“ãƒœãƒ¼ãƒŠã‚¹ï¼ˆä¾‹: 100tickæœªæº€ãªã‚‰1000ç‚¹ã€200tickæœªæº€ãªã‚‰500ç‚¹ã€ãªã©ï¼‰
scoreboard players set @s runhole_score_time 0

execute if score @s runhole_game_time matches ..2000 run scoreboard players set @s runhole_score_time 1000
execute if score @s runhole_game_time matches 2001..4000 run scoreboard players set @s runhole_score_time 500
execute if score @s runhole_game_time matches 4001..6000 run scoreboard players set @s runhole_score_time 250
```

#### `function/calculate/total.mcfunction`

```mcfunction
# åˆè¨ˆã‚¹ã‚³ã‚¢ = åŸºæœ¬ + ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆ + æ™‚é–“
scoreboard players operation @s runhole_score_total = @s runhole_score_base
scoreboard players operation @s runhole_score_total += @s runhole_score_perfect
scoreboard players operation @s runhole_score_total += @s runhole_score_time
```

#### `function/reward/speed_boost.mcfunction`

```mcfunction
# ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆé€šéæ™‚ã®é€Ÿåº¦ä¸Šæ˜‡ï¼ˆ5å›é€£ç¶šã€10å›é€£ç¶šï¼‰

# 5å›é€£ç¶šãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆ â†’ Speed I ã‚’5ç§’
execute if score @s runhole_perfect_walls matches 5 run effect give @s minecraft:speed 5 0 true

# 10å›é€£ç¶šãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆ â†’ Speed II ã‚’10ç§’
execute if score @s runhole_perfect_walls matches 10 run effect give @s minecraft:speed 10 1 true
```

#### `tags/function/load.json`

```json
{
  "values": [
    "runhole_score:init"
  ]
}
```

#### `tags/function/tick.json`

```json
{
  "values": [
    "runhole_score:main"
  ]
}
```

---

## 4. runhole_mode_raceï¼ˆãƒ¬ãƒ¼ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼‰

### æ¦‚è¦

- ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å¯¾å¿œã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç«¶äº‰
- å…¨å“¡ä¸€æ–‰ã‚¹ã‚¿ãƒ¼ãƒˆ
- ã„ã¡æ—©ãã‚´ãƒ¼ãƒ«ã—ãŸäººã®å‹ã¡
- å…¨å“¡ã‚´ãƒ¼ãƒ«å¾Œã€ç´„3ç§’ã§é †ä½è¨ˆç®—ãƒ»è¡¨ç¤º
- ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰: å…¨ç©´ãªãã‚Šå¿…é ˆï¼ˆãªãã‚‰ãªã„ã¨å£ã‚’é€šã‚Œãªã„ï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
runhole_mode_race/
â”œâ”€â”€ pack.mcmeta
â””â”€â”€ data/runhole_race/
    â”œâ”€â”€ function/
    â”‚   â”œâ”€â”€ init.mcfunction
    â”‚   â”œâ”€â”€ main.mcfunction
    â”‚   â”œâ”€â”€ lobby/
    â”‚   â”‚   â”œâ”€â”€ join.mcfunction
    â”‚   â”‚   â”œâ”€â”€ ready.mcfunction
    â”‚   â”‚   â””â”€â”€ start_countdown.mcfunction
    â”‚   â”œâ”€â”€ race/
    â”‚   â”‚   â”œâ”€â”€ start_all.mcfunction
    â”‚   â”‚   â”œâ”€â”€ check_finish.mcfunction
    â”‚   â”‚   â””â”€â”€ wait_all.mcfunction
    â”‚   â”œâ”€â”€ ranking/
    â”‚   â”‚   â”œâ”€â”€ calculate.mcfunction
    â”‚   â”‚   â””â”€â”€ display.mcfunction
    â”‚   â””â”€â”€ perfect_mode/
    â”‚       â”œâ”€â”€ enable.mcfunction
    â”‚       â””â”€â”€ check.mcfunction
    â””â”€â”€ tags/function/
        â”œâ”€â”€ load.json
        â””â”€â”€ tick.json
```

### å®Ÿè£…è©³ç´°

#### `pack.mcmeta`

```json
{
  "pack": {
    "pack_format": 48,
    "description": "RunThroughHole Race Mode (Multiplayer)"
  }
}
```

#### `function/init.mcfunction`

```mcfunction
# ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰åˆæœŸåŒ–
scoreboard objectives add runhole_race_ready dummy "æº–å‚™å®Œäº†"
scoreboard objectives add runhole_race_rank dummy "é †ä½"
scoreboard objectives add runhole_race_finish_time dummy "ã‚´ãƒ¼ãƒ«æ™‚åˆ»"
scoreboard objectives add runhole_perfect_mode dummy "ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰"

# ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
scoreboard objectives add runhole_race_state dummy "ãƒ¬ãƒ¼ã‚¹çŠ¶æ…‹"
# 0: å¾…æ©Ÿä¸­, 1: ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ä¸­, 2: ãƒ¬ãƒ¼ã‚¹ä¸­, 3: å…¨å“¡ã‚´ãƒ¼ãƒ«å¾Œ

# ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç„¡åŠ¹åŒ–
scoreboard players set #perfect_mode runhole_perfect_mode 0

tellraw @a [{"text":"[RunHole Race] ","color":"red","bold":true},{"text":"ãƒ¬ãƒ¼ã‚¹ãƒ¢ãƒ¼ãƒ‰ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ","color":"white","bold":false}]
```

#### `function/main.mcfunction`

```mcfunction
# ãƒ¬ãƒ¼ã‚¹çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯
execute if score #race runhole_race_state matches 2 run function runhole_race:race/check_finish
execute if score #race runhole_race_state matches 3 run function runhole_race:race/wait_all
```

#### `function/lobby/join.mcfunction`

```mcfunction
# ãƒ­ãƒ“ãƒ¼å‚åŠ ï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã§å®Ÿè¡Œï¼‰
scoreboard players set @s runhole_race_ready 0
scoreboard players reset @s runhole_race_rank
scoreboard players reset @s runhole_race_finish_time

tellraw @s [{"text":"[ãƒ¬ãƒ¼ã‚¹] ","color":"red"},{"text":"ãƒ­ãƒ“ãƒ¼ã«å‚åŠ ã—ã¾ã—ãŸã€‚æº–å‚™ãŒã§ããŸã‚‰ /trigger ready ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„","color":"white"}]
```

#### `function/lobby/ready.mcfunction`

```mcfunction
# æº–å‚™å®Œäº†
scoreboard players set @s runhole_race_ready 1

tellraw @a [{"selector":"@s","color":"aqua"},{"text":" ãŒæº–å‚™å®Œäº†ã—ã¾ã—ãŸ","color":"white"}]

# å…¨å“¡æº–å‚™å®Œäº†ã‹ãƒã‚§ãƒƒã‚¯
execute store result score #ready_count runhole_race_ready if entity @a[scores={runhole_race_ready=1}]
execute store result score #total_count runhole_race_ready if entity @a

# å…¨å“¡æº–å‚™å®Œäº†ãªã‚‰ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³é–‹å§‹
execute if score #ready_count runhole_race_ready = #total_count runhole_race_ready run function runhole_race:lobby/start_countdown
```

#### `function/lobby/start_countdown.mcfunction`

```mcfunction
# ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³é–‹å§‹
scoreboard players set #race runhole_race_state 1

tellraw @a [{"text":"========================================","color":"gold"}]
tellraw @a [{"text":"ãƒ¬ãƒ¼ã‚¹é–‹å§‹ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ï¼","color":"red","bold":true}]
tellraw @a [{"text":"========================================","color":"gold"}]

# 3ç§’å¾Œã«ãƒ¬ãƒ¼ã‚¹é–‹å§‹ï¼ˆåˆ¥é€”scheduleé–¢æ•°ã§å®Ÿè£…ï¼‰
schedule function runhole_race:race/start_all 60t
```

#### `function/race/start_all.mcfunction`

```mcfunction
# å…¨å“¡ä¸€æ–‰ã‚¹ã‚¿ãƒ¼ãƒˆ
scoreboard players set #race runhole_race_state 2

# å…¨å“¡ã®ã‚²ãƒ¼ãƒ ã‚’é–‹å§‹ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œï¼‰
execute as @a[scores={runhole_race_ready=1}] run rth start @s

# ã‚¿ã‚¤ãƒˆãƒ«è¡¨ç¤º
title @a[scores={runhole_race_ready=1}] title {"text":"ã‚¹ã‚¿ãƒ¼ãƒˆï¼","color":"green","bold":true}
title @a[scores={runhole_race_ready=1}] subtitle {"text":"å…¨é€ŸåŠ›ã§ã‚´ãƒ¼ãƒ«ã‚’ç›®æŒ‡ã›ï¼","color":"white"}

# åŠ¹æœéŸ³
execute as @a[scores={runhole_race_ready=1}] run playsound minecraft:entity.firework_rocket.blast master @s ~ ~ ~ 1.0 2.0

tellraw @a [{"text":"[ãƒ¬ãƒ¼ã‚¹] ","color":"red"},{"text":"ãƒ¬ãƒ¼ã‚¹é–‹å§‹ï¼","color":"gold","bold":true}]
```

#### `function/race/check_finish.mcfunction`

```mcfunction
# ã‚´ãƒ¼ãƒ«ã—ãŸãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ï¼ˆrunhole_goal_trigger=1ï¼‰
execute as @a[scores={runhole_goal_trigger=1..,runhole_race_ready=1}] unless score @s runhole_race_rank matches 1.. run function runhole_race:race/finish_player
```

#### `function/race/finish_player.mcfunction`

```mcfunction
# ã‚´ãƒ¼ãƒ«ã—ãŸãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®é †ä½ã‚’è¨˜éŒ²
scoreboard players add #finish_count runhole_race_rank 1
scoreboard players operation @s runhole_race_rank = #finish_count runhole_race_rank

# ã‚´ãƒ¼ãƒ«æ™‚åˆ»ã‚’è¨˜éŒ²
scoreboard players operation @s runhole_race_finish_time = @s runhole_game_time

# ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
tellraw @a [{"selector":"@s","color":"gold"},{"text":" ãŒ ","color":"white"},{"score":{"name":"@s","objective":"runhole_race_rank"},"color":"aqua"},{"text":" ä½ã§ã‚´ãƒ¼ãƒ«ï¼","color":"white"}]

# ã‚¿ã‚¤ãƒˆãƒ«è¡¨ç¤º
title @s title [{"text":"ã‚´ãƒ¼ãƒ«ï¼ ","color":"gold","bold":true},{"score":{"name":"@s","objective":"runhole_race_rank"},"color":"aqua","bold":true},{"text":" ä½","color":"gold","bold":true}]
```

#### `function/race/wait_all.mcfunction`

```mcfunction
# å…¨å“¡ã‚´ãƒ¼ãƒ«å¾Œã€3ç§’å¾…ã£ã¦é †ä½è¡¨ç¤º
scoreboard players add #wait_timer runhole_race_state 1

execute if score #wait_timer runhole_race_state matches 60 run function runhole_race:ranking/display
```

#### `function/ranking/calculate.mcfunction`

```mcfunction
# é †ä½è¨ˆç®—ï¼ˆæ—¢ã«finish_playerã§è¨˜éŒ²æ¸ˆã¿ï¼‰
# ã“ã“ã§ã¯è¿½åŠ ã®è¨ˆç®—ãŒå¿…è¦ãªå ´åˆã«å®Ÿè£…
```

#### `function/ranking/display.mcfunction`

```mcfunction
# é †ä½è¡¨ç¤º
tellraw @a {"text":"========================================","color":"gold"}
tellraw @a {"text":"ãƒ¬ãƒ¼ã‚¹çµæœ","color":"red","bold":true}
tellraw @a {"text":"========================================","color":"gold"}

# 1ä½
execute as @a[scores={runhole_race_rank=1}] run tellraw @a [{"text":"ğŸ¥‡ 1ä½: ","color":"gold","bold":true},{"selector":"@s","color":"white"},{"text":" - ","color":"gray"},{"score":{"name":"@s","objective":"runhole_race_finish_time"},"color":"aqua"},{"text":" tick","color":"gray"}]

# 2ä½
execute as @a[scores={runhole_race_rank=2}] run tellraw @a [{"text":"ğŸ¥ˆ 2ä½: ","color":"gray","bold":true},{"selector":"@s","color":"white"},{"text":" - ","color":"gray"},{"score":{"name":"@s","objective":"runhole_race_finish_time"},"color":"aqua"},{"text":" tick","color":"gray"}]

# 3ä½
execute as @a[scores={runhole_race_rank=3}] run tellraw @a [{"text":"ğŸ¥‰ 3ä½: ","color":"#CD7F32","bold":true},{"selector":"@s","color":"white"},{"text":" - ","color":"gray"},{"score":{"name":"@s","objective":"runhole_race_finish_time"},"color":"aqua"},{"text":" tick","color":"gray"}]

# 4ä½ä»¥é™
execute as @a[scores={runhole_race_rank=4..}] run tellraw @a [{"score":{"name":"@s","objective":"runhole_race_rank"},"color":"yellow"},{"text":" ä½: ","color":"yellow"},{"selector":"@s","color":"white"},{"text":" - ","color":"gray"},{"score":{"name":"@s","objective":"runhole_race_finish_time"},"color":"aqua"},{"text":" tick","color":"gray"}]

tellraw @a {"text":"========================================","color":"gold"}

# ãƒ¬ãƒ¼ã‚¹çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
scoreboard players set #race runhole_race_state 0
scoreboard players reset #wait_timer runhole_race_state
scoreboard players reset #finish_count runhole_race_rank
```

#### `function/perfect_mode/enable.mcfunction`

```mcfunction
# ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ–ï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã§å®Ÿè¡Œï¼‰
scoreboard players set #perfect_mode runhole_perfect_mode 1

tellraw @a [{"text":"[ãƒ¬ãƒ¼ã‚¹] ","color":"red"},{"text":"ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰ãŒæœ‰åŠ¹åŒ–ã•ã‚Œã¾ã—ãŸï¼å…¨ã¦ã®ç©´ã‚’ãªãã‚‰ãªã„ã¨å£ã‚’é€šã‚Œã¾ã›ã‚“","color":"gold","bold":true}]
```

#### `function/perfect_mode/check.mcfunction`

```mcfunction
# ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰æ™‚ã®ãƒã‚§ãƒƒã‚¯
# ã“ã“ã§ã¯ä»•æ§˜ã®ã¿è¨˜è¼‰ã€‚å®Ÿéš›ã®å®Ÿè£…ã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã§è¡Œã†å¿…è¦ãŒã‚ã‚‹
# ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã‹ã‚‰ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¡çªåˆ¤å®šã‚’å¤‰æ›´ã™ã‚‹ã®ã¯å›°é›£ãªãŸã‚ï¼‰

# ä»£æ›¿æ¡ˆ: ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆé€šéã—ã¦ã„ãªã„å ´åˆã€ãƒšãƒŠãƒ«ãƒ†ã‚£ã‚’ä¸ãˆã‚‹
execute if score #perfect_mode runhole_perfect_mode matches 1 as @a[scores={runhole_game_state=1}] if score @s runhole_walls_passed > @s runhole_perfect_walls run effect give @s minecraft:slowness 1 2 true
```

**æ³¨æ„**: ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰ã®å®Œå…¨å®Ÿè£…ã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã§ã®å¯¾å¿œãŒå¿…è¦ã§ã™ã€‚

#### `tags/function/load.json`

```json
{
  "values": [
    "runhole_race:init"
  ]
}
```

#### `tags/function/tick.json`

```json
{
  "values": [
    "runhole_race:main"
  ]
}
```

---

## ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã®å¤‰æ›´ç‚¹

### 1. GameManager.gameOver() ã®å¤‰æ›´

**å¤‰æ›´å‰**:

```java
// ã‚¹ãƒšã‚¯ãƒ†ãƒ¼ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã«å¤‰æ›´
player.setGameMode(GameMode.SPECTATOR);

// ã‚¿ã‚¤ãƒˆãƒ«è¡¨ç¤º
Title title = Title.title(...);
player.showTitle(title);

// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
player.sendMessage(...);

// 3ç§’å¾Œã«ã‚²ãƒ¼ãƒ çµ‚äº†
plugin.getServer().getScheduler().runTaskLater(plugin, () -> {
    stopGame(player, GameScoreTracker.END_TYPE_GAME_OVER);
}, 60L);
```

**å¤‰æ›´å¾Œ**:

```java
// ã‚¹ãƒšã‚¯ãƒ†ãƒ¼ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã«å¤‰æ›´
player.setGameMode(GameMode.SPECTATOR);

// ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰æ›´æ–°ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ãŒã“ã‚Œã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã™ã‚‹ï¼‰
playerData.scoreTracker.setScore(GameScoreTracker.OBJECTIVE_GAME_STATE,
                                 GameScoreTracker.GAME_STATE_GAME_END);
playerData.scoreTracker.setScore(GameScoreTracker.OBJECTIVE_END_TYPE,
                                 GameScoreTracker.END_TYPE_GAME_OVER);

// ã‚¿ã‚¤ãƒˆãƒ«è¡¨ç¤ºã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã€stopGameå‘¼ã³å‡ºã—ã¯å‰Šé™¤
// ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯å´ãŒ3ç§’å¾Œã« /rth stop <player> ã‚’å®Ÿè¡Œã™ã‚‹
```

### 2. GameManager.startGame() ã®å¤‰æ›´

**å¤‰æ›´å‰**:

```java
player.sendMessage("Â§6Â§l========== ç©´æŠœã‘ã‚²ãƒ¼ãƒ é–‹å§‹ ==========");
player.sendMessage("Â§cÂ§lç›®æ¨™: Â§få£ã«å½“ãŸã‚‰ãªã„ã‚ˆã†ã«é€²ã¿ç¶šã‘ã‚ˆã†ï¼");
// ... æ“ä½œèª¬æ˜ ...
```

**å¤‰æ›´å¾Œ**:

```java
// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã¯å‰Šé™¤ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯å´ã§å‡¦ç†ï¼‰
// ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰æ›´æ–°ã®ã¿
playerData.scoreTracker.setScore(GameScoreTracker.OBJECTIVE_GAME_STATE,
                                 GameScoreTracker.GAME_STATE_PLAYING);
```

### 3. GameManager.stopGame() ã®å¤‰æ›´

**å¤‰æ›´ãªã—**: `stopGame()` ã¯ `/rth stop` ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯å´ã‹ã‚‰ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€æ—¢å­˜ã®å®Ÿè£…ã®ã¾ã¾ã€‚

ãŸã ã—ã€ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰å¾©å…ƒã¯ç¶™ç¶šã—ã¦å®Ÿè¡Œï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ãŒç„¡åŠ¹ãªå ´åˆã«ã‚‚å¯¾å¿œï¼‰ã€‚

---

## ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã®é…ç½®

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆã‚µãƒ¼ãƒãƒ¼å´ï¼‰

```
world/datapacks/
â”œâ”€â”€ runhole_core/
â”‚   â”œâ”€â”€ pack.mcmeta
â”‚   â””â”€â”€ data/runhole_core/...
â”œâ”€â”€ runhole_message/
â”‚   â”œâ”€â”€ pack.mcmeta
â”‚   â””â”€â”€ data/runhole_message/...
â”œâ”€â”€ runhole_score/
â”‚   â”œâ”€â”€ pack.mcmeta
â”‚   â””â”€â”€ data/runhole_score/...
â””â”€â”€ runhole_mode_race/
    â”œâ”€â”€ pack.mcmeta
    â””â”€â”€ data/runhole_race/...
```

### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã§ã®è‡ªå‹•é…ç½®

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³jarã«å„ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã‚’åŒæ¢±ã—ã€ã‚µãƒ¼ãƒãƒ¼èµ·å‹•æ™‚ã«è‡ªå‹•å±•é–‹ã—ã¾ã™ã€‚

**Main.java ã«è¿½åŠ **:

```java
@Override
public void onEnable() {
    // ... æ—¢å­˜ã®åˆæœŸåŒ–å‡¦ç† ...

    // ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã‚’è‡ªå‹•é…ç½®
    deployDatapacks();
}

private void deployDatapacks() {
    String[] datapacks = {
        "runhole_core",      // å¿…é ˆ
        "runhole_message",   // ã‚ªãƒ—ã‚·ãƒ§ãƒ³
        "runhole_score",     // ã‚ªãƒ—ã‚·ãƒ§ãƒ³
        "runhole_mode_race"  // ã‚ªãƒ—ã‚·ãƒ§ãƒ³
    };

    File worldFolder = getServer().getWorlds().get(0).getWorldFolder();
    File datapacksFolder = new File(worldFolder, "datapacks");

    if (!datapacksFolder.exists()) {
        datapacksFolder.mkdirs();
    }

    for (String datapackName : datapacks) {
        File datapackFolder = new File(datapacksFolder, datapackName);

        // æ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã‚’å‰Šé™¤ï¼ˆæ›´æ–°ã®ãŸã‚ï¼‰
        if (datapackFolder.exists()) {
            deleteDirectory(datapackFolder);
        }

        // jarãƒ•ã‚¡ã‚¤ãƒ«å†…ã‹ã‚‰ã‚³ãƒ”ãƒ¼
        try {
            copyDatapackFromResources(datapackName, datapackFolder);
            getLogger().info("ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã‚’é…ç½®ã—ã¾ã—ãŸ: " + datapackName);
        } catch (IOException e) {
            getLogger().severe("ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã®é…ç½®ã«å¤±æ•—ã—ã¾ã—ãŸ: " + datapackName + " - " + e.getMessage());
        }
    }

    getLogger().info("ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã®é…ç½®ãŒå®Œäº†ã—ã¾ã—ãŸã€‚/reload ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„");
}
```

---

## å®Ÿè£…è¨ˆç”»

### ãƒ•ã‚§ãƒ¼ã‚º1: runhole_core å®Ÿè£…

1. **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ**
   - `datapacks/runhole_core/` ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ
   - `pack.mcmeta` ä½œæˆ

2. **ã‚¹ãƒšã‚¯ãƒ†ãƒ¼ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒãƒ¼å®Ÿè£…**
   - `spectator/on_game_end.mcfunction`
   - `spectator/timer.mcfunction`
   - `spectator/call_stop.mcfunction`

3. **ã‚²ãƒ¼ãƒ æ™‚é–“è¨ˆæ¸¬**
   - `timer/start.mcfunction`
   - `timer/tick.mcfunction`

4. **ã‚´ãƒ¼ãƒ«åˆ¤å®š**
   - `goal/check.mcfunction`
   - `goal/reached.mcfunction`

5. **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´å¤‰æ›´**
   - `GameManager.gameOver()` ã‹ã‚‰ `stopGame()` å‘¼ã³å‡ºã—ã‚’å‰Šé™¤
   - ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰æ›´æ–°ã®ã¿æ®‹ã™

6. **ãƒ†ã‚¹ãƒˆ**
   - ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼å¾Œã€3ç§’ã§ `/rth stop` ãŒå‘¼ã°ã‚Œã‚‹ã‹ç¢ºèª
   - ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰ãŒæ­£ã—ãå¾©å…ƒã•ã‚Œã‚‹ã‹ç¢ºèª

### ãƒ•ã‚§ãƒ¼ã‚º2: runhole_message å®Ÿè£…

1. **å¤šè¨€èªå¯¾å¿œåŸºç›¤**
   - `lang/ja_jp/` ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ
   - `lang/en_us/` ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ
   - `config.mcfunction` ã§è¨€èªè¨­å®š

2. **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å®Ÿè£…**
   - ã‚²ãƒ¼ãƒ é–‹å§‹ã€ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã€ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆ

3. **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´å¤‰æ›´**
   - `GameManager.startGame()` ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‰Šé™¤
   - `GameManager.gameOver()` ã‹ã‚‰ã‚¿ã‚¤ãƒˆãƒ«ãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‰Šé™¤

4. **ãƒ†ã‚¹ãƒˆ**
   - å„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã‹ç¢ºèª
   - è¨€èªåˆ‡ã‚Šæ›¿ãˆãŒæ©Ÿèƒ½ã™ã‚‹ã‹ç¢ºèª

### ãƒ•ã‚§ãƒ¼ã‚º3: runhole_score å®Ÿè£…

1. **ã‚¹ã‚³ã‚¢è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯**
   - åŸºæœ¬ã‚¹ã‚³ã‚¢ã€ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒœãƒ¼ãƒŠã‚¹ã€æ™‚é–“ãƒœãƒ¼ãƒŠã‚¹

2. **ç‰¹å…¸å®Ÿè£…**
   - é€Ÿåº¦ä¸Šæ˜‡ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ

3. **ãƒ†ã‚¹ãƒˆ**
   - ã‚¹ã‚³ã‚¢ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹ã‹ç¢ºèª
   - ç‰¹å…¸ãŒæ­£ã—ãä»˜ä¸ã•ã‚Œã‚‹ã‹ç¢ºèª

### ãƒ•ã‚§ãƒ¼ã‚º4: runhole_mode_race å®Ÿè£…

1. **ãƒ­ãƒ“ãƒ¼ã‚·ã‚¹ãƒ†ãƒ **
   - å‚åŠ ã€æº–å‚™å®Œäº†ã€ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³

2. **ãƒ¬ãƒ¼ã‚¹é€²è¡Œ**
   - å…¨å“¡ä¸€æ–‰ã‚¹ã‚¿ãƒ¼ãƒˆã€ã‚´ãƒ¼ãƒ«ãƒã‚§ãƒƒã‚¯ã€é †ä½è¨ˆç®—

3. **ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰**
   - æœ‰åŠ¹åŒ–ã€ãƒã‚§ãƒƒã‚¯ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´å¯¾å¿œã‚‚æ¤œè¨ï¼‰

4. **ãƒ†ã‚¹ãƒˆ**
   - ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ãƒ¬ãƒ¼ã‚¹ãŒæ­£ã—ãé€²è¡Œã™ã‚‹ã‹ç¢ºèª
   - é †ä½è¡¨ç¤ºãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹ç¢ºèª

### ãƒ•ã‚§ãƒ¼ã‚º5: è‡ªå‹•é…ç½®ãƒ»ãƒ“ãƒ«ãƒ‰çµ±åˆ

1. **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´å®Ÿè£…**
   - `deployDatapacks()` å®Ÿè£…
   - `pom.xml` ã«ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯åŒæ¢±è¨­å®š

2. **ãƒ†ã‚¹ãƒˆ**
   - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³èµ·å‹•æ™‚ã«ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ãŒè‡ªå‹•é…ç½®ã•ã‚Œã‚‹ã‹ç¢ºèª
   - `/reload` ã§ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ãŒæ­£ã—ãèª­ã¿è¾¼ã¾ã‚Œã‚‹ã‹ç¢ºèª

---

## TODOï¼ˆä»Šå›ã¯å®Ÿè£…ã—ãªã„ï¼‰

### é€Ÿåº¦ã®ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰åŒ–

å°†æ¥çš„ã«ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’è¿½åŠ äºˆå®šï¼š

- `runhole_speed_forward`: å‰é€²é€Ÿåº¦ï¼ˆÃ— 1000ï¼‰
- `runhole_speed_boost`: ãƒ–ãƒ¼ã‚¹ãƒˆé€Ÿåº¦ï¼ˆÃ— 1000ï¼‰
- ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰é€Ÿåº¦ã‚’èª¿æ•´å¯èƒ½ã«ã™ã‚‹
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã§ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰ã‚’å‚ç…§ã—ã¦é€Ÿåº¦ã‚’å¤‰æ›´

### runhole_mode_timeattack

ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ã®å®Ÿè£…ï¼ˆåˆ¥ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ï¼‰ï¼š

- ç›®æ¨™å£æ•°åˆ°é”ã¾ã§ã®ã‚¿ã‚¤ãƒ è¨ˆæ¸¬
- ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤º
- ãƒ™ã‚¹ãƒˆã‚¿ã‚¤ãƒ è¨˜éŒ²

---

## ã¾ã¨ã‚

ã“ã®ä»•æ§˜ã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ãƒ¡ãƒªãƒƒãƒˆãŒå¾—ã‚‰ã‚Œã¾ã™ï¼š

### ãƒ¡ãƒªãƒƒãƒˆ

1. **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–**: æ©Ÿèƒ½åˆ¥ã«ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã‚’åˆ†å‰²ã—ã€å¿…è¦ãªã‚‚ã®ã ã‘æœ‰åŠ¹åŒ–å¯èƒ½
2. **æŸ”è»Ÿæ€§**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å†ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã›ãšã«ã‚²ãƒ¼ãƒ æ¼”å‡ºãƒ»ãƒ«ãƒ¼ãƒ«ã‚’å¤‰æ›´å¯èƒ½
3. **å¤šè¨€èªå¯¾å¿œ**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¸€å…ƒç®¡ç†ã—ã€ç°¡å˜ã«ç¿»è¨³å¯èƒ½
4. **æ‹¡å¼µæ€§**: æ–°ã—ã„ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰ã‚’ç°¡å˜ã«è¿½åŠ å¯èƒ½

### ç§»è¡Œã•ã‚Œã‚‹æ©Ÿèƒ½

- âœ… ã‚¹ãƒšã‚¯ãƒ†ãƒ¼ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰3ç§’ã‚¿ã‚¤ãƒãƒ¼ â†’ stopGameå‘¼ã³å‡ºã—
- âœ… ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ»ã‚¿ã‚¤ãƒˆãƒ«è¡¨ç¤ºï¼ˆå¤šè¨€èªå¯¾å¿œï¼‰
- âœ… ã‚¹ã‚³ã‚¢è¨ˆç®—ãƒ»ãƒœãƒ¼ãƒŠã‚¹
- âœ… ãƒ¬ãƒ¼ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç«¶äº‰ï¼‰
- â¸ï¸ ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ï¼ˆTODOï¼‰
- â¸ï¸ é€Ÿåº¦ã®ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰åŒ–ï¼ˆTODOï¼‰

### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«æ®‹ã‚‹æ©Ÿèƒ½

- âœ… ã‚³ã‚¢ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆã‚­ãƒ¥ãƒ¼ãƒ–ç§»å‹•ãƒ»å›è»¢ãƒ»è¡çªåˆ¤å®šï¼‰
- âœ… ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰æ›´æ–°
- âœ… 3Dã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç®¡ç†
- âœ… ç©´ãªãã‚Šæ©Ÿèƒ½
- âœ… ã‚³ãƒãƒ³ãƒ‰å‡¦ç†ï¼ˆ`/rth start`, `/rth stop`ï¼‰
